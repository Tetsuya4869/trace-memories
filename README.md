# TraceMemories

> **あなたの日々を、地図に刻む**

日々の移動を美しい軌跡として可視化し、撮影した写真を地図上に配置する——
TraceMemoriesは、あなたの「今日」を「思い出」に変えるアプリです。

---

## コンセプト

私たちは毎日、どこかへ向かい、何かを見て、時にはシャッターを切ります。
でも、その一日一日は、気づけば記憶の彼方へ消えていきます。

TraceMemoriesは、あなたの歩いた軌跡と撮った写真を、3Dの美しい地図の上に重ねます。
一日の終わりにタイムラインをなぞれば、今日という日が、静かに蘇る——
そんな体験をお届けします。

---

## 主な機能

### 🛰️ リアルタイム軌跡描画
移動ルートを滑らかな曲線として地図上に描画。
あなたの一日が、ひとつの線となって浮かび上がります。

### 📸 思い出の自動マッピング
撮影した写真を、位置情報をもとに地図上へ自動配置。
「あの時、あの場所にいた」という記憶が、視覚的に蘇ります。

### ⏳ タイムライン・スクラブ
スライダーを動かすだけで、時間を遡って過去の場所へ。
まるで今日という一日を、映画のように再生できます。

### 🌃 3Dダークマップ
夜の街並みを3Dビルディングと共に表現。
没入感のあるビジュアルで、振り返りの時間を特別なものに。

### ✨ 今日のふりかえり
一日の終わりに、歩いた距離や撮った写真を、
やさしい言葉でまとめたサマリーを生成します。

---

## セットアップ

### 1. 依存関係のインストール
```bash
flutter pub get
```

### 2. 環境変数の設定
プロジェクトルートに `.env` ファイルを作成し、Mapboxトークンを設定します。
```env
MAPBOX_PUBLIC_TOKEN=pk.your_public_token
MAPBOX_SECRET_TOKEN=sk.your_secret_token
```

> `.env` ファイルは `.gitignore` で保護されています。絶対にコミットしないでください。

### 3. プラットフォーム別の設定
- **iOS**: `ios/setup_mapbox.sh` を実行してMapboxの認証を設定
- **Android**: `android/gradle.properties` にSecret Tokenが設定されていることを確認
- **Windows**: 開発者モードを有効にしてください

---

## 開発ガイド

詳細は [DEBUG_GUIDE.md](./DEBUG_GUIDE.md) を参照してください。

- **位置シミュレーション**: iOS/Androidシミュレーターで仮想的な移動をテスト可能
- **テーマ調整**: `lib/theme/app_theme.dart` でグラスモーフィズムの透明度を調整
- **トラブルシューティング**: `flutter clean && flutter pub get` で多くの問題が解決します

---

## プロジェクト構造

```
lib/
├── main.dart          # エントリーポイント
├── screens/           # 画面単位のウィジェット
├── widgets/           # 再利用可能なUIコンポーネント
├── services/          # ビジネスロジック（位置情報、写真、サマリー生成）
└── theme/             # デザインシステム
```

---

## 開発ルール

詳細は [DEVELOPMENT_RULES.md](./DEVELOPMENT_RULES.md) を参照してください。

- **機密情報**: APIキーは必ず `.env` で管理
- **ブランチ**: 開発は `feature/xxx` ブランチで実施
- **コミット**: 絵文字プレフィックスを使用（✨ 機能追加、🐛 バグ修正、📝 ドキュメント）

---

## ロードマップ

- [x] コアUI & マップ統合
- [x] リアルタイム位置トラッキング
- [x] 写真ライブラリ連携
- [x] 今日のふりかえり機能
- [ ] クラウド同期（Firebase）
- [ ] 思い出の動画書き出し

---

<p align="center">
Developed with care by <strong>Pi</strong>
</p>
